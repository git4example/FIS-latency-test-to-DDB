{
  "description": "Inject network latency to DynamoDB connections for ECS service tasks",
  "targets": {
    "myTasks": {
      "resourceType": "aws:ecs:task",
      "parameters": {
        "cluster": "FIS",
        "service": "dynamodb-test-service"
      },
      "selectionMode": "ALL"
    }
  },
  "actions": {
    "InjectLatencyToDynamoDB": {
      "actionId": "aws:ecs:task-network-latency",
      "description": "Add 800ms latency to DynamoDB connections",
      "parameters": {
        "duration": "PT5M",
        "delayMilliseconds": "800",
        "jitterMilliseconds": "50",
        "sources": "DYNAMODB",
        "useEcsFaultInjectionEndpoints": "true"
      },
      "targets": {
        "Tasks": "myTasks"
      }
    }
  },
  "stopConditions": [
    {
      "source": "none"
    }
  ],
  "roleArn": "arn:aws:iam::064250592128:role/fisExperimentRole",
  "tags": {
    "Name": "ECS-DynamoDB-Latency-Test",
    "Environment": "test"
  }
}
